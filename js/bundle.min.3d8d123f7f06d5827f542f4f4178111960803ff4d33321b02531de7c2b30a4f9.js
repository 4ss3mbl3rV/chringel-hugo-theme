function isObj(a){return!!(a&&typeof a=="object"&&a!==null)}function containsClass(a,b){if(isObj(a)&&b&&a!==document)return!!a.classList.contains(b)}function createEl(a="div"){return document.createElement(a)}function pushClass(b,a){isObj(b)&&a&&(elClass=b.classList,!elClass.contains(a)&&elClass.add(a))}function addCodeCopyButtons(a){document.querySelectorAll("pre > code").forEach(d=>{let b=createEl("button");const e='<span class="inline-svg text-gray-700 text-sm"><svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512"><title>Copy</title><rect x="128" y="128" width="336" height="336" rx="57" ry="57" fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="32"/><path d="M383.5 128l.5-24a56.16 56.16 0 00-56-56H112a64.19 64.19 0 00-64 64v216a56.16 56.16 0 0056 56h24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"/></svg></span> Copy';b.className="copy-code-button",b.type="button",b.innerHTML=e,b.addEventListener("click",()=>{a.writeText(d.innerText).then(()=>{b.blur(),b.innerHTML='<span class="inline-svg text-gray-700 text-sm"><svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512"><title>Checkmark</title><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M416 128L192 384l-96-96"/></svg></span> Copied!',setTimeout(()=>{b.innerHTML=e},2e3)},a=>{b.innerHTML='<span class="inline-svg text-gray-700 text-sm"><svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512"><title>Close</title><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M368 368L144 144M368 144L144 368"/></svg></span> Error'})});let c=d.parentNode;if(c.parentNode.classList.contains("highlight")){let a=c.parentNode;a.parentNode.insertBefore(b,a)}else c.parentNode.insertBefore(b,c)})}let headingNodes=[],results,link,icon,current,id,tags=["h2","h3","h4","h5","h6"];current=document.URL,tags.forEach(function(a){results=document.getElementsByTagName(a),Array.prototype.push.apply(headingNodes,results)});const copyHeadingLink=f=>{let b,d,e,c,a;b="link",d=document.querySelectorAll(`.${b}`),d&&document.addEventListener("click",d=>{a=d.target,c=a.nodeName==="svg"?a.parentNode:a.parentNode.parentNode,console.log(c),(a&&containsClass(a,b)||containsClass(c,b))&&(d.preventDefault(),e=a.href!==void 0?a.href:c.href,f.writeText(e))})};if(navigator&&navigator.clipboard)addCodeCopyButtons(navigator.clipboard),copyHeadingLink(navigator.clipboard);else{let a=createEl("script");a.src="https://cdnjs.cloudflare.com/ajax/libs/clipboard-polyfill/2.7.0/clipboard-polyfill.promise.js",a.integrity="sha256-waClS2re9NUbXRsryKoof+F9qc1gjjIhc2eT7ZbIv94=",a.crossOrigin="anonymous",a.onload=()=>{addCodeCopyButtons(clipboard),copyHeadingLink(clipboard)},document.body.appendChild(a)}(function(){"use strict";window.i18next=window.i18next||{t:function(a){return a}};const a=window.i18next.t.bind(window.i18next);function b(a,b){return document.currentScript.getAttribute("data-"+a)||b}const q=b("page-url",window.location.href.replace(/#.*$/,"")),f=b("add-urls",void 0),p=b("id","webmentions"),d=b("wordcount"),u=b("max-webmentions",30),h=b("prevent-spoofing")?"wm-source":"url",t=b("sort-by","published"),s=b("sort-dir","up"),l=b("comments-are-reactions"),n={"in-reply-to":a("replied"),"like-of":a("liked"),"repost-of":a("reposted"),"bookmark-of":a("bookmarked"),"mention-of":a("mentioned"),rsvp:a("RSVPed"),"follow-of":a("followed")},m={"in-reply-to":"💬","like-of":"❤️","repost-of":"🔄","bookmark-of":"⭐️","mention-of":"💬",rsvp:"📅","follow-of":"🐜"},g={yes:"✅",no:"❌",interested:"💡",maybe:"💭"};function c(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function k(b,k){const d=c(b.author?.name??b.url.split("/")[2]);let e=n[b["wm-property"]]||a("reacted");!k&&b.content&&b.content.text&&(e+=": "+i(b));let f="";b.author&&b.author.photo&&(f=`
        <img
          src="${c(b.author.photo)}"
          loading="lazy"
          decoding="async"
          alt="${d}"
        >
      `);let j="";return b.rsvp&&g[b.rsvp]&&(j=`<sub>${g[b.rsvp]}</sub>`),`
      <a
        class="reaction"
        rel="nofollow ugc"
        title="${d} ${e}"
        href="${b[h]}"
      >
        ${f}
        ${m[b["wm-property"]]||"💥"}
        ${j}
      </a>
    `}function e(a){return a.substr(a.indexOf("//"))}function j(c){const a=[],b={};return c.forEach(function(c){const d=e(c.url);b[d]||(a.push(c),b[d]=!0)}),a}function i(b){let a=c(b.content.text);if(d){let b=a.replace(/\s+/g," ").split(" ",d+1);b.length>d&&(b[d-1]+="&hellip;",b=b.slice(0,d),a=b.join(" "))}return a}function o(b){const d=`<h2>${a("Responses")}</h2>`,e=b.map(b=>{const g=k(b,!0);let f=c(b.url.split("/")[2]);b.author&&b.author.name&&(f=c(b.author.name));const j=`<a class="source" rel="nofollow ugc" href="${b[h]}">${f}</a>`;let d="name",e=`(${a("mention")})`;b.name?(d="name",e=b.name):b.content&&b.content.text&&(d="text",e=i(b));const l=`<span class="${d}">${e}</span>`;return`<li>${g} ${j} ${l}</li>`}).join("");return`
      ${d}
      <ul class="comments">${e}</ul>
    `}function r(b){const c=`<h2>${a("Reactions")}</h2>`,d=b.map(a=>k(a)).join("");return`
      ${c}
      <ul class="reacts">${d}</ul>
    `}window.addEventListener("load",async function(){const c=document.getElementById(p);if(!c)return;const k=[e(q)];!f||f.split("|").forEach(function(a){k.push(e(a))});let m=`https://jam.chringel.dev/webmention/chringel.dev/geojamming1234`,h={};try{const a=await window.fetch(m);a.status>=200&&a.status<300?h=await a.json():(console.error("Could not parse response"),new Error(a.statusText))}catch(a){console.error("Request failed",a)}let b=[];const a=[];l&&(b=a);const i={"in-reply-to":b,"like-of":a,"repost-of":a,"bookmark-of":a,"follow-of":a,"mention-of":b,rsvp:b};h.children.forEach(function(a){const b=i[a["wm-property"]];b&&b.push(a)});let d="";b.length>0&&b!==a&&(d=o(j(b)));let g="";a.length>0&&(g=r(j(a))),c.innerHTML=`${d}${g}`})})()